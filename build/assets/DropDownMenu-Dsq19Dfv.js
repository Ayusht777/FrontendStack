import{c as g}from"./createLucideIcon-w2A2ygSl.js";import{r as a,j as i}from"./main-DecZhBbk.js";/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=g("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=g("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),b=({dropdownOptions:c=[],onOptionChange:o,form:l=!1,selectedAuthorName:p=null})=>{var h;const d=a.useMemo(()=>l?c:c.map(s=>({author:s.author,id:s.id,img:s.img})),[c,l]),f=d.findIndex(s=>s.author===p),[e,r]=a.useState({selectedOption:l?"":p,selectedOptionIndex:l?0:f,finalIndex:l?0:f,isOpen:!1}),u=a.useRef(null),x=a.useCallback(s=>{if(e.isOpen){const{key:n}=s;n==="ArrowUp"?(s.preventDefault(),r(t=>({...t,selectedOptionIndex:Math.max(t.selectedOptionIndex-1,0)}))):n==="ArrowDown"?(s.preventDefault(),r(t=>({...t,selectedOptionIndex:Math.min(t.selectedOptionIndex+1,d.length-1)}))):n==="Enter"?r(t=>({selectedOption:l?d[t.selectedOptionIndex]:c[t.selectedOptionIndex].author,selectedOptionIndex:t.selectedOptionIndex,finalIndex:t.selectedOptionIndex,isOpen:!1})):n==="Escape"&&r(t=>({...t,isOpen:!1})),o(e.selectedOption)}},[d,e.selectedOption,e.isOpen,o,c,l]);return a.useEffect(()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}),[x]),a.useLayoutEffect(()=>{e.isOpen&&u.current&&u.current.focus()},[e.isOpen]),a.useEffect(()=>{const s=n=>{u.current&&!u.current.contains(n.target)&&r(t=>({...t,isOpen:!1}))};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),i.jsxs("div",{className:`w-full  ${l?"mb-1.5":"absolute right-0  z-50 max-w-48 bg-Bg md:max-w-56"} `,children:[i.jsxs("button",{className:"group  flex w-full cursor-pointer items-center justify-between rounded-md bg-Bg bg-inherit px-3 py-1 outline outline-1 outline-Border focus:bg-Nav focus:outline-Logo",onClick:()=>r({...e,isOpen:!e.isOpen}),children:[i.jsx("span",{className:`cursor-none ${l&&!d.includes(e.selectedOption)?"text-gray-400":""}`,children:l?e.selectedOption||i.jsx("span",{children:"Select Subject"}):i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx("img",{src:(h=c[e==null?void 0:e.finalIndex])==null?void 0:h.img,alt:c[e.selectedOptionIndex].author,className:"mr-2 size-5 rounded-full"}),e.selectedOption||d[0]]})}),i.jsx(O,{className:"size-4 group-focus-within:text-Logo"})]}),i.jsx("div",{className:`${e.isOpen?"flex":"hidden"}  mb-1 mt-1.5 w-full cursor-pointer items-center justify-between rounded-md bg-inherit px-1 py-1 shadow-[rgba(0,_0,_0,_0.25)_0px_25px_50px_-12px] outline outline-1 outline-Border focus:outline-Logo`,tabIndex:-10,role:"listbox",ref:u,children:i.jsx("div",{className:"w-full space-y-1",children:d.map((s,n)=>{var t,m;return i.jsx("div",{className:`m rounded-md px-2 py-0.5 ${l?"":"flex items-center gap-x-1"}  ${e.selectedOptionIndex!==n?"hover:bg-Border":""} ${e.selectedOptionIndex===n?"bg-Border":""}`,onClick:()=>{r({selectedOption:l?s:d[n].author,selectedOptionIndex:n,isOpen:!1,finalIndex:!l&&n}),o(d[n].author)},children:l?i.jsx("span",{children:s}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:(t=c[n])==null?void 0:t.img,alt:(m=c[n])==null?void 0:m.id,className:" size-5 rounded-full"}),s==null?void 0:s.author]})},n)})})})]})};export{j as C,b as D};
